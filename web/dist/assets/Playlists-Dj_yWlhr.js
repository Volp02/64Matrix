import{_ as u,c as n,a as t,F as h,r as p,b as m,d as o,o as r,t as y}from"./index-CxGADa4D.js";const P={name:"Playlists",data(){return{playlists:[]}},async mounted(){await this.fetchPlaylists()},methods:{async fetchPlaylists(){try{const l=await o.getPlaylists();this.playlists=Object.values(l.data.playlists||{})}catch(l){console.error("Fetch playlists failed",l)}},async playPlaylist(l){try{await o.playPlaylist(l)}catch(e){alert("Failed to play: "+e)}},async deletePlaylist(l){if(confirm("Delete playlist?"))try{await o.deletePlaylist(l),await this.fetchPlaylists()}catch(e){alert("Failed to delete: "+e)}},async autoGenerateAll(){var l,e;if(confirm("This will create/update the 'All Scenes' playlist with all available scenes. Continue?"))try{const a=await o.autoGenerateAllPlaylist();alert(a.data.message||"Playlist created successfully!"),await this.fetchPlaylists()}catch(a){alert("Failed to generate playlist: "+(((e=(l=a.response)==null?void 0:l.data)==null?void 0:e.detail)||a.message))}}}},_={class:"playlists-view"},f={class:"header"},b={class:"header-actions"},k={class:"table-container"},v={class:"actions"},g=["onClick"],C=["onClick"],w=["onClick"],A={key:0};function F(l,e,a,G,c,i){return r(),n("div",_,[t("div",f,[e[2]||(e[2]=t("h2",null,"Playlists",-1)),t("div",b,[t("button",{onClick:e[0]||(e[0]=(...s)=>i.autoGenerateAll&&i.autoGenerateAll(...s)),class:"auto-generate-btn"}," ðŸ”„ Auto-Generate All Scenes "),t("button",{onClick:e[1]||(e[1]=s=>l.$router.push("/editor"))},"âž• Create Playlist")])]),t("div",k,[t("table",null,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Items"),t("th",null,"Actions")])],-1)),t("tbody",null,[(r(!0),n(h,null,p(c.playlists,s=>(r(),n("tr",{key:s.id},[t("td",null,y(s.name),1),t("td",null,y(s.items.length)+" scenes",1),t("td",v,[t("button",{onClick:d=>i.playPlaylist(s.id)},"Play",8,g),t("button",{onClick:d=>l.$router.push("/editor/"+s.id)},"Edit",8,C),t("button",{class:"danger",onClick:d=>i.deletePlaylist(s.id)}," Delete ",8,w)])]))),128)),c.playlists.length===0?(r(),n("tr",A,[...e[3]||(e[3]=[t("td",{colspan:"3",style:{"text-align":"center",color:"#666"}}," No playlists created yet. ",-1)])])):m("",!0)])])])])}const $=u(P,[["render",F],["__scopeId","data-v-767574e5"]]);export{$ as default};
